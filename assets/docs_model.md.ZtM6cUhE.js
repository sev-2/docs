import{_ as a,c as e,o as s,V as t}from"./chunks/framework.sH_TUDjc.js";const g=JSON.parse('{"title":"Model","description":"","frontmatter":{"title":"Model"},"headers":[],"relativePath":"docs/model.md","filePath":"docs/model.md"}'),i={name:"docs/model.md"},n=t(`<h1 id="model" tabindex="-1">Model <a class="header-anchor" href="#model" aria-label="Permalink to &quot;Model&quot;">​</a></h1><h2 id="overview" tabindex="-1">Overview <a class="header-anchor" href="#overview" aria-label="Permalink to &quot;Overview&quot;">​</a></h2><p>Model refers to the structure and schema of your database tables, as well as the data managed within those tables. Raiden provides a way help you define, manage, and interact with your models effectively, empowering you to build powerful and scalable applications on top of PostgreSQL.</p><h2 id="model-definition" tabindex="-1">Model definition <a class="header-anchor" href="#model-definition" aria-label="Permalink to &quot;Model definition&quot;">​</a></h2><p>You have two options to define a model:</p><ol><li><p>Using Supabase Studio. You can create a new table on Studio, then run <code>raiden generate</code>. It will generate new model with the name same as the table name.</p></li><li><p>Create your own definition. After create your own model, you can run <code>raiden generate</code> to auto-sync with the database table. The new table, new column, of modified column will be created or updated according to your model.</p></li></ol><p>Here is the model structure:</p><div class="vp-code-group vp-adaptive-theme"><div class="tabs"><input type="radio" name="group-S89Z_" id="tab-szWedqw" checked="checked"><label for="tab-szWedqw">internal/models/books.go</label></div><div class="blocks"><div class="language-go vp-adaptive-theme active"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">package</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> models</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">time</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">type</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Books</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> struct</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Id </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">int64</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> \`json:&quot;id,omitempty&quot; column:&quot;name:id;type:bigint;primaryKey;autoIncrement;nullable:false&quot;\`</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Title </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">string</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> \`json:&quot;title,omitempty&quot; column:&quot;name:title;type:varchar;nullable;default:&#39;255&#39;::character varying&quot;\`</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Body </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">string</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> \`json:&quot;body,omitempty&quot; column:&quot;name:body;type:text;nullable&quot;\`</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    CreatedAt </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">time</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Time</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> \`json:&quot;created_at,omitempty&quot; column:&quot;name:created_at;type:timestampz;nullable;default:now()&quot;\`</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // Table information</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Metadata </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">string</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> \`json:&quot;-&quot; schema:&quot;public&quot;\`</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // Access control</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Acl </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">string</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> \`json:&quot;-&quot; read:&quot;&quot; write:&quot;&quot;\`</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div></div></div><p>You can create a column of a table by define it with <code>column:</code> struct tag. The type of column based on Go struct&#39;s field type.</p><p>Available struct tag values inside <code>column:</code>:</p><table><thead><tr><th>Name</th><th>Required</th><th>Description</th></tr></thead><tbody><tr><td><code>name</code></td><td>Yes</td><td>The name of column.</td></tr><tr><td><code>type</code></td><td>Yes</td><td><a href="https://www.postgresql.org/docs/current/datatype.html" target="_blank" rel="noreferrer">PostgreSQL data types</a> such as <code>bigint</code>, <code>boolean</code>, <code>varying</code>, <code>text</code>, <code>date</code></td></tr><tr><td><code>primaryKey</code></td><td>No</td><td>Column with this key will be Primary Key.</td></tr><tr><td><code>autoIncrement</code></td><td>No</td><td>Column with this key will be auto-incrementing. The column must be a numeric.</td></tr><tr><td><code>nullable</code></td><td>No</td><td>To determine a column is nullable or not by define <code>nullable:true</code> or <code>nullable:false</code>.</td></tr><tr><td><code>default</code></td><td>No</td><td>The default value of column based on column data type. Example: <code>default:&#39;255&#39;</code> or <code>default:now()</code>.</td></tr></tbody></table><p>The <code>json:&quot;body,omitempty</code> will be the JSON key of response. To understand about JSON encoding on Go, read <a href="https://pkg.go.dev/encoding/json" target="_blank" rel="noreferrer">https://pkg.go.dev/encoding/json</a>.</p><h3 id="metadata" tabindex="-1">Metadata <a class="header-anchor" href="#metadata" aria-label="Permalink to &quot;Metadata&quot;">​</a></h3><p>You can set which is the schema of a table will be created by update schema on Metadata field. Usually the value of schema is <code>public</code>.</p><div class="language-go vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes github-light github-dark has-highlighted vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">type</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Books</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> struct</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ...</span></span>
<span class="line"></span>
<span class="line highlighted"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Metadata </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">string</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> \`json:&quot;-&quot; schema:&quot;public&quot;\`</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="acl" tabindex="-1">ACL <a class="header-anchor" href="#acl" aria-label="Permalink to &quot;ACL&quot;">​</a></h3><p>Please refers to <a href="/docs/acl">ACL documentation</a>.</p>`,17),l=[n];function o(d,h,p,r,c,k){return s(),e("div",null,l)}const m=a(i,[["render",o]]);export{g as __pageData,m as default};
